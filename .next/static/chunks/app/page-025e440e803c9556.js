(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8425:function(e,t,r){Promise.resolve().then(r.bind(r,1543))},1543:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var s=r(7437),n=r(9294),a=r(6070),i=r(5974),l=r(2869),c=r(2934),d=r(9388),o=r(1723),u=r(1817),f=r(3276);let m=(0,r(9205).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var x=r(8940),h=r(7648);function p(e){let{id:t,name:r,description:p,lastRunAt:g,successRate:v=0,status:b="idle",runCount:j}=e,N=n.S.useUtils(),y=n.S.pipeline.trigger.useMutation({onSuccess:()=>{N.pipeline.list.invalidate(),N.pipeline.get.invalidate({id:t})}}),w=()=>{switch(b){case"success":return(0,s.jsx)(c.Z,{className:"h-4 w-4"});case"failed":return(0,s.jsx)(d.Z,{className:"h-4 w-4"});case"running":return(0,s.jsx)(o.Z,{className:"h-4 w-4 animate-spin"});default:return(0,s.jsx)(o.Z,{className:"h-4 w-4"})}};return(0,s.jsxs)(a.Zb,{className:"hover:shadow-lg transition-shadow duration-200",children:[(0,s.jsx)(a.Ol,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,s.jsx)(a.ll,{className:"text-xl",children:r}),(0,s.jsx)(a.SZ,{className:"line-clamp-2",children:p||"No description provided"})]}),(()=>{switch(b){case"success":return(0,s.jsxs)(i.C,{variant:"success",className:"gap-1",children:[w()," Success"]});case"failed":return(0,s.jsxs)(i.C,{variant:"error",className:"gap-1",children:[w()," Failed"]});case"running":return(0,s.jsxs)(i.C,{variant:"warning",className:"gap-1",children:[w()," Running"]});default:return(0,s.jsxs)(i.C,{variant:"outline",className:"gap-1",children:[w()," Idle"]})}})()]})}),(0,s.jsxs)(a.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-1",children:"Total Runs"}),(0,s.jsx)("p",{className:"text-2xl font-semibold",children:j})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-1",children:"Success Rate"}),(0,s.jsxs)("p",{className:"text-2xl font-semibold ".concat(v>=80?"text-green-600":v>=50?"text-yellow-600":"text-red-600"),children:[v.toFixed(0),"%"]})]})]}),g&&(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Last run"}),(0,s.jsx)("p",{className:"font-medium",children:(0,x.Q)(new Date(g),{addSuffix:!0})})]})]}),(0,s.jsxs)(a.eW,{className:"flex gap-2",children:[(0,s.jsxs)(l.z,{className:"flex-1 gap-2",variant:"default",onClick:()=>y.mutate({id:t}),disabled:y.isPending,children:[y.isPending?(0,s.jsx)(u.Z,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(f.Z,{className:"h-4 w-4"}),y.isPending?"Starting...":"Run Now"]}),(0,s.jsx)(h.default,{href:"/pipeline/".concat(t),className:"flex-1",children:(0,s.jsxs)(l.z,{variant:"outline",className:"w-full gap-2",children:["View Details",(0,s.jsx)(m,{className:"h-4 w-4"})]})})]})]})}var g=r(4401);function v(){let{data:e,isLoading:t,error:r}=n.S.pipeline.list.useQuery(),a=e=>{var t;let r=(null===(t=e._count)||void 0===t?void 0:t.runs)>0;return{successRate:r?100*Math.random():0,status:r?["success","failed","idle"][Math.floor(3*Math.random())]:"idle",lastRunAt:r?new Date(e.updatedAt):null}};return(0,s.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(g.Z,{className:"h-8 w-8"}),(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Orbit Pipeline"})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Resilient job execution pipeline with retry logic and state persistence"})]})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-1",children:"Pipelines"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e?"".concat(e.length," pipeline").concat(1!==e.length?"s":""," configured"):"Loading..."})]})}),t&&(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(u.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),r&&(0,s.jsxs)("div",{className:"rounded-lg border border-destructive bg-destructive/10 p-6",children:[(0,s.jsx)("h3",{className:"font-semibold text-destructive mb-2",children:"Error loading pipelines"}),(0,s.jsx)("p",{className:"text-sm text-destructive/80",children:r.message})]}),e&&0===e.length&&(0,s.jsxs)("div",{className:"rounded-lg border border-dashed p-12 text-center",children:[(0,s.jsx)(g.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No pipelines found"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first pipeline to get started with automated job execution."})]}),e&&e.length>0&&(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{var t;let r=a(e);return(0,s.jsx)(p,{id:e.id,name:e.name,description:e.description,runCount:(null===(t=e._count)||void 0===t?void 0:t.runs)||0,successRate:r.successRate,status:r.status,lastRunAt:r.lastRunAt},e.id)})})]})]})}},9294:function(e,t,r){"use strict";r.d(t,{S:function(){return o},TRPCProvider:function(){return u}});var s=r(7437),n=r(3160),a=r(9693),i=r(2899),l=r(8594),c=r(2265),d=r(8080);r(257);let o=(0,l.ec)();function u(e){let{children:t}=e,[r]=(0,c.useState)(()=>new n.S({defaultOptions:{queries:{staleTime:5e3,refetchOnWindowFocus:!1}}})),[l]=(0,c.useState)(()=>o.createClient({transformer:d.ZP,links:[(0,i.gb)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,i.N8)({url:"".concat("","/api/trpc")})]}));return(0,s.jsx)(o.Provider,{client:l,queryClient:r,children:(0,s.jsx)(a.aH,{client:r,children:t})})}},5974:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var s=r(7437);r(2265);var n=r(535),a=r(4508);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",error:"border-transparent bg-red-500 text-white hover:bg-red-600"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)(i({variant:r}),t),...n})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),n=r(2265),a=r(535),i=r(4508);let l=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,...c}=e;return(0,s.jsx)("button",{className:(0,i.cn)(l({variant:n,size:a,className:r})),ref:t,...c})});c.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return u},ll:function(){return c}});var s=r(7437),n=r(2265),a=r(4508);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});o.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(1994),n=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},4401:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},3276:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])}},function(e){e.O(0,[632,446,157,971,117,744],function(){return e(e.s=8425)}),_N_E=e.O()}]);