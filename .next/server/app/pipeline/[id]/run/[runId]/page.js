(()=>{var e={};e.id=960,e.ids=[960],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},745:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>c}),r(1089),r(4752),r(5866);var t=r(3191),n=r(8716),a=r(7922),i=r.n(a),d=r(5231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(s,l);let c=["",{children:["pipeline",{children:["[id]",{children:["run",{children:["[runId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1089)),"/Users/jordy/dev/jobHunt/app/pipeline/[id]/run/[runId]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4752)),"/Users/jordy/dev/jobHunt/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/jordy/dev/jobHunt/app/pipeline/[id]/run/[runId]/page.tsx"],u="/pipeline/[id]/run/[runId]/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/pipeline/[id]/run/[runId]/page",pathname:"/pipeline/[id]/run/[runId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3525:(e,s,r)=>{Promise.resolve().then(r.bind(r,8709))},9884:(e,s,r)=>{Promise.resolve().then(r.bind(r,8143))},7988:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},8709:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(326),n=r(8143),a=r(6307),i=r(9669),d=r(8998),l=r(1405),c=r(7506),o=r(6333);let u=(0,r(2881).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var m=r(1291),x=r(434),p=r(5047),h=r(772),g=r(567),f=r(2643),v=r(3218),j=r(3745);function b(){let e=(0,p.useParams)(),s=e.runId,r=e.id,{data:b,isLoading:N,error:y}=n.S.run.get.useQuery({id:s}),w=n.S.useUtils(),P=n.S.run.retry.useMutation({onSuccess:()=>{w.run.get.invalidate({id:s}),w.run.getByPipeline.invalidate({pipelineId:r})}}),C=e=>{switch(e){case"success":return t.jsx(a.Z,{className:"h-5 w-5 text-green-600"});case"failed":return t.jsx(i.Z,{className:"h-5 w-5 text-red-600"});case"running":return t.jsx(d.Z,{className:"h-5 w-5 text-yellow-600 animate-spin"});case"retrying":return t.jsx(l.Z,{className:"h-5 w-5 text-blue-600 animate-spin"});default:return t.jsx(d.Z,{className:"h-5 w-5 text-gray-400"})}},k=e=>{switch(e){case"success":return(0,t.jsxs)(g.C,{variant:"success",className:"gap-1",children:[C(e)," Success"]});case"failed":return(0,t.jsxs)(g.C,{variant:"error",className:"gap-1",children:[C(e)," Failed"]});case"running":return(0,t.jsxs)(g.C,{variant:"warning",className:"gap-1",children:[C(e)," Running"]});case"retrying":return(0,t.jsxs)(g.C,{variant:"warning",className:"gap-1",children:[C(e)," Retrying"]});default:return(0,t.jsxs)(g.C,{variant:"outline",className:"gap-1",children:[C(e)," Pending"]})}},R=(e,s)=>{if(!e)return"Not started";let r=new Date(e),t=s?new Date(s):new Date,n=(0,v.y)({start:r,end:t}),a=[];return n.hours&&a.push(`${n.hours}h`),n.minutes&&a.push(`${n.minutes}m`),n.seconds&&a.push(`${n.seconds}s`),a.length>0?a.join(" "):"< 1s"},Z=e=>{navigator.clipboard.writeText(e)};if(N)return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx(c.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(y||!b)return t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"rounded-lg border border-destructive bg-destructive/10 p-6",children:[t.jsx("h3",{className:"font-semibold text-destructive mb-2",children:"Error loading run"}),t.jsx("p",{className:"text-sm text-destructive/80",children:y?.message||"Run not found"}),t.jsx(x.default,{href:`/pipeline/${r}`,children:(0,t.jsxs)(h.z,{variant:"outline",className:"mt-4 gap-2",children:[t.jsx(o.Z,{className:"h-4 w-4"}),"Back to Pipeline"]})})]})});let _=R(b.startedAt,b.finishedAt);return(0,t.jsxs)("main",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"border-b",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[t.jsx(x.default,{href:`/pipeline/${r}`,children:(0,t.jsxs)(h.z,{variant:"ghost",className:"gap-2 mb-4",children:[t.jsx(o.Z,{className:"h-4 w-4"}),"Back to Pipeline"]})}),(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:b.pipeline.name}),t.jsx("p",{className:"text-muted-foreground",children:"Run Details"})]}),k(b.status)]})]})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)(f.Zb,{className:"mb-6",children:[t.jsx(f.Ol,{children:t.jsx(f.ll,{children:"Run Information"})}),(0,t.jsxs)(f.aY,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Run ID"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("code",{className:"text-sm font-mono",children:[b.id.slice(0,8),"..."]}),t.jsx(h.z,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Z(b.id),children:t.jsx(u,{className:"h-3 w-3"})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Started"}),t.jsx("p",{className:"text-sm font-medium",children:(0,j.Q)(new Date(b.startedAt),{addSuffix:!0})})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Duration"}),t.jsx("p",{className:"text-sm font-medium",children:_})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Triggered By"}),t.jsx("p",{className:"text-sm font-medium",children:b.triggeredBy||"Manual"})]})]}),"failed"===b.status&&t.jsx("div",{className:"mt-4",children:(0,t.jsxs)(h.z,{onClick:()=>P.mutate({id:b.id}),disabled:P.isPending,className:"gap-2",children:[P.isPending?t.jsx(c.Z,{className:"h-4 w-4 animate-spin"}):t.jsx(l.Z,{className:"h-4 w-4"}),"Retry Run"]})})]})]}),(0,t.jsxs)(f.Zb,{children:[(0,t.jsxs)(f.Ol,{children:[t.jsx(f.ll,{children:"Execution Timeline"}),(0,t.jsxs)(f.SZ,{children:[b.steps.length," step",1!==b.steps.length?"s":""," in this run"]})]}),t.jsx(f.aY,{children:t.jsx("div",{className:"space-y-6",children:b.steps.map((e,s)=>(0,t.jsxs)("div",{className:"relative",children:[s<b.steps.length-1&&t.jsx("div",{className:"absolute left-[18px] top-10 h-full w-0.5 bg-border"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:C(e.status)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-2",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold",children:e.name}),e.startedAt&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Duration: ",R(e.startedAt,e.finishedAt),e.attemptCount>1&&` â€¢ Attempt ${e.attemptCount}`]})]}),k(e.status)]}),e.error&&(0,t.jsxs)("div",{className:"mt-2 p-4 rounded-lg border border-destructive bg-destructive/10",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(m.Z,{className:"h-4 w-4 text-destructive flex-shrink-0"}),t.jsx("p",{className:"text-sm font-semibold text-destructive",children:"Error"})]}),t.jsx(h.z,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Z(e.error||""),children:t.jsx(u,{className:"h-3 w-3"})})]}),t.jsx("pre",{className:"text-xs text-destructive/80 whitespace-pre-wrap break-words",children:e.error})]}),e.result&&"success"===e.status&&(0,t.jsxs)("div",{className:"mt-2 p-4 rounded-lg border bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsx("p",{className:"text-sm font-semibold",children:"Result"}),t.jsx(h.z,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Z(e.result||""),children:t.jsx(u,{className:"h-3 w-3"})})]}),t.jsx("pre",{className:"text-xs text-muted-foreground whitespace-pre-wrap break-words",children:e.result})]})]})]})]},e.id))})})]})]})]})}},8143:(e,s,r)=>{"use strict";r.d(s,{S:()=>o,TRPCProvider:()=>u});var t=r(326),n=r(7012),a=r(6293),i=r(9355),d=r(2325),l=r(7577),c=r(2282);let o=(0,d.ec)();function u({children:e}){let[s]=(0,l.useState)(()=>new n.S({defaultOptions:{queries:{staleTime:5e3,refetchOnWindowFocus:!1}}})),[r]=(0,l.useState)(()=>o.createClient({transformer:c.ZP,links:[(0,i.gb)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,i.N8)({url:`${process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:`http://localhost:${process.env.PORT??3e3}`}/api/trpc`})]}));return t.jsx(o.Provider,{client:r,queryClient:s,children:t.jsx(a.aH,{client:s,children:e})})}},567:(e,s,r)=>{"use strict";r.d(s,{C:()=>d});var t=r(326);r(7577);var n=r(9360),a=r(7863);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",error:"border-transparent bg-red-500 text-white hover:bg-red-600"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,...r}){return t.jsx("div",{className:(0,a.cn)(i({variant:s}),e),...r})}},772:(e,s,r)=>{"use strict";r.d(s,{z:()=>l});var t=r(326),n=r(7577),a=r(9360),i=r(7863);let d=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef(({className:e,variant:s,size:r,...n},a)=>t.jsx("button",{className:(0,i.cn)(d({variant:s,size:r,className:e})),ref:a,...n}));l.displayName="Button"},2643:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>d,SZ:()=>c,Zb:()=>i,aY:()=>o,eW:()=>u,ll:()=>l});var t=r(326),n=r(7577),a=r(7863);let i=n.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let d=n.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));d.displayName="CardHeader";let l=n.forwardRef(({className:e,...s},r)=>t.jsx("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let c=n.forwardRef(({className:e,...s},r)=>t.jsx("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=n.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent";let u=n.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s}));u.displayName="CardFooter"},7863:(e,s,r)=>{"use strict";r.d(s,{cn:()=>a});var t=r(1135),n=r(1009);function a(...e){return(0,n.m6)((0,t.W)(e))}},1405:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(2881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4752:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c,metadata:()=>l});var t=r(9510),n=r(5384),a=r.n(n);r(7272);var i=r(8570);(0,i.createProxy)(String.raw`/Users/jordy/dev/jobHunt/app/providers.tsx#trpc`);let d=(0,i.createProxy)(String.raw`/Users/jordy/dev/jobHunt/app/providers.tsx#TRPCProvider`),l={title:"Orbit Pipeline",description:"Resilient job execution pipeline with retry logic"};function c({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:a().className,children:t.jsx(d,{children:e})})})}},1089:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`/Users/jordy/dev/jobHunt/app/pipeline/[id]/run/[runId]/page.tsx#default`)},7272:()=>{}};var s=require("../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[948,855,394,979,213],()=>r(745));module.exports=t})();