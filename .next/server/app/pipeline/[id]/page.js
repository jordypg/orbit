(()=>{var e={};e.id=986,e.ids=[986],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5584:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>o,routeModule:()=>p,tree:()=>c}),r(4581),r(4752),r(5866);var t=r(3191),n=r(8716),i=r(7922),a=r.n(i),d=r(5231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(s,l);let c=["",{children:["pipeline",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4581)),"/Users/jordy/dev/jobHunt/app/pipeline/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4752)),"/Users/jordy/dev/jobHunt/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/jordy/dev/jobHunt/app/pipeline/[id]/page.tsx"],u="/pipeline/[id]/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/pipeline/[id]/page",pathname:"/pipeline/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7038:(e,s,r)=>{Promise.resolve().then(r.bind(r,9813))},9884:(e,s,r)=>{Promise.resolve().then(r.bind(r,8143))},7988:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},9813:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(326),n=r(8143),i=r(6307),a=r(9669),d=r(8998),l=r(7506),c=r(6333),o=r(4893),u=r(1291),x=r(434),p=r(5047),m=r(772),h=r(567),g=r(2643),f=r(3218),j=r(3745);function b(){let e=(0,p.useParams)().id,{data:s,isLoading:r,error:b}=n.S.pipeline.get.useQuery({id:e}),{data:v,isLoading:N,error:y}=n.S.run.getByPipeline.useQuery({pipelineId:e,limit:50}),w=n.S.useUtils(),P=n.S.pipeline.trigger.useMutation({onSuccess:()=>{w.pipeline.get.invalidate({id:e}),w.run.getByPipeline.invalidate({pipelineId:e,limit:50})}}),R=e=>{switch(e){case"success":return t.jsx(i.Z,{className:"h-4 w-4 text-green-600"});case"failed":return t.jsx(a.Z,{className:"h-4 w-4 text-red-600"});case"running":return t.jsx(d.Z,{className:"h-4 w-4 text-yellow-600 animate-spin"});default:return t.jsx(d.Z,{className:"h-4 w-4 text-gray-400"})}},S=e=>{switch(e){case"success":return(0,t.jsxs)(h.C,{variant:"success",className:"gap-1",children:[R(e)," Success"]});case"failed":return(0,t.jsxs)(h.C,{variant:"error",className:"gap-1",children:[R(e)," Failed"]});case"running":return(0,t.jsxs)(h.C,{variant:"warning",className:"gap-1",children:[R(e)," Running"]});default:return(0,t.jsxs)(h.C,{variant:"outline",className:"gap-1",children:[R(e)," Pending"]})}},Z=(e,s)=>{if(!e)return"Not started";let r=new Date(e),t=s?new Date(s):new Date,n=(0,f.y)({start:r,end:t}),i=[];return n.hours&&i.push(`${n.hours}h`),n.minutes&&i.push(`${n.minutes}m`),n.seconds&&i.push(`${n.seconds}s`),i.length>0?i.join(" "):"< 1s"};if(r||N)return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx(l.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(b||y||!s)return t.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"rounded-lg border border-destructive bg-destructive/10 p-6",children:[t.jsx("h3",{className:"font-semibold text-destructive mb-2",children:"Error loading pipeline"}),t.jsx("p",{className:"text-sm text-destructive/80",children:b?.message||y?.message||"Pipeline not found"}),t.jsx(x.default,{href:"/",children:(0,t.jsxs)(m.z,{variant:"outline",className:"mt-4 gap-2",children:[t.jsx(c.Z,{className:"h-4 w-4"}),"Back to Dashboard"]})})]})});let C=(()=>{if(!v?.runs)return{total:0,success:0,failed:0,running:0,successRate:0};let e=v.runs.length,s=v.runs.filter(e=>"success"===e.status).length;return{total:e,success:s,failed:v.runs.filter(e=>"failed"===e.status).length,running:v.runs.filter(e=>"running"===e.status).length,successRate:e>0?s/e*100:0}})(),_=v?.runs||[];return(0,t.jsxs)("main",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"border-b",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[t.jsx(x.default,{href:"/",children:(0,t.jsxs)(m.z,{variant:"ghost",className:"gap-2 mb-4",children:[t.jsx(c.Z,{className:"h-4 w-4"}),"Back to Dashboard"]})}),(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:s.name}),t.jsx("p",{className:"text-muted-foreground",children:s.description||"No description provided"})]}),(0,t.jsxs)(m.z,{className:"gap-2",onClick:()=>P.mutate({id:e}),disabled:P.isPending,children:[P.isPending?t.jsx(l.Z,{className:"h-4 w-4 animate-spin"}):t.jsx(o.Z,{className:"h-4 w-4"}),P.isPending?"Starting...":"Run Now"]})]})]})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)(g.Zb,{children:[t.jsx(g.Ol,{className:"pb-2",children:t.jsx(g.SZ,{children:"Total Runs"})}),t.jsx(g.aY,{children:t.jsx("p",{className:"text-3xl font-bold",children:C.total})})]}),(0,t.jsxs)(g.Zb,{children:[t.jsx(g.Ol,{className:"pb-2",children:t.jsx(g.SZ,{children:"Success Rate"})}),t.jsx(g.aY,{children:(0,t.jsxs)("p",{className:`text-3xl font-bold ${C.successRate>=80?"text-green-600":C.successRate>=50?"text-yellow-600":"text-red-600"}`,children:[C.successRate.toFixed(0),"%"]})})]}),(0,t.jsxs)(g.Zb,{children:[t.jsx(g.Ol,{className:"pb-2",children:t.jsx(g.SZ,{children:"Successful"})}),t.jsx(g.aY,{children:t.jsx("p",{className:"text-3xl font-bold text-green-600",children:C.success})})]}),(0,t.jsxs)(g.Zb,{children:[t.jsx(g.Ol,{className:"pb-2",children:t.jsx(g.SZ,{children:"Failed"})}),t.jsx(g.aY,{children:t.jsx("p",{className:"text-3xl font-bold text-red-600",children:C.failed})})]})]}),(0,t.jsxs)(g.Zb,{children:[(0,t.jsxs)(g.Ol,{children:[t.jsx(g.ll,{children:"Run History"}),(0,t.jsxs)(g.SZ,{children:[_.length," run",1!==_.length?"s":""," found"]})]}),t.jsx(g.aY,{children:0===_.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(u.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No runs yet"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This pipeline hasn't been executed yet. Start your first run!"}),(0,t.jsxs)(m.z,{className:"gap-2",onClick:()=>P.mutate({id:e}),disabled:P.isPending,children:[P.isPending?t.jsx(l.Z,{className:"h-4 w-4 animate-spin"}):t.jsx(o.Z,{className:"h-4 w-4"}),P.isPending?"Starting...":"Run Now"]})]}):t.jsx("div",{className:"space-y-4",children:_.map(s=>{let r=Z(s.startedAt,s.finishedAt),n=s.steps.filter(e=>"failed"===e.status).length;return t.jsx(x.default,{href:`/pipeline/${e}/run/${s.id}`,children:t.jsx("div",{className:"p-4 rounded-lg border hover:border-primary transition-colors cursor-pointer",children:t.jsx("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[S(s.status),t.jsx("code",{className:"text-sm text-muted-foreground",children:s.id.slice(0,8)})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Started:"})," ",(0,j.Q)(new Date(s.startedAt),{addSuffix:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Duration:"})," ",r]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Steps:"})," ",s.steps.length,n>0&&(0,t.jsxs)("span",{className:"text-red-600 ml-1",children:["(",n," failed)"]})]}),s.triggeredBy&&(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Triggered by:"})," ",s.triggeredBy]})]})]})})})},s.id)})})})]})]})]})}},8143:(e,s,r)=>{"use strict";r.d(s,{S:()=>o,TRPCProvider:()=>u});var t=r(326),n=r(7012),i=r(6293),a=r(9355),d=r(2325),l=r(7577),c=r(2282);let o=(0,d.ec)();function u({children:e}){let[s]=(0,l.useState)(()=>new n.S({defaultOptions:{queries:{staleTime:5e3,refetchOnWindowFocus:!1}}})),[r]=(0,l.useState)(()=>o.createClient({transformer:c.ZP,links:[(0,a.gb)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,a.N8)({url:`${process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:`http://localhost:${process.env.PORT??3e3}`}/api/trpc`})]}));return t.jsx(o.Provider,{client:r,queryClient:s,children:t.jsx(i.aH,{client:s,children:e})})}},567:(e,s,r)=>{"use strict";r.d(s,{C:()=>d});var t=r(326);r(7577);var n=r(9360),i=r(7863);let a=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",error:"border-transparent bg-red-500 text-white hover:bg-red-600"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,...r}){return t.jsx("div",{className:(0,i.cn)(a({variant:s}),e),...r})}},772:(e,s,r)=>{"use strict";r.d(s,{z:()=>l});var t=r(326),n=r(7577),i=r(9360),a=r(7863);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef(({className:e,variant:s,size:r,...n},i)=>t.jsx("button",{className:(0,a.cn)(d({variant:s,size:r,className:e})),ref:i,...n}));l.displayName="Button"},2643:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>d,SZ:()=>c,Zb:()=>a,aY:()=>o,eW:()=>u,ll:()=>l});var t=r(326),n=r(7577),i=r(7863);let a=n.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));a.displayName="Card";let d=n.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));d.displayName="CardHeader";let l=n.forwardRef(({className:e,...s},r)=>t.jsx("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let c=n.forwardRef(({className:e,...s},r)=>t.jsx("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=n.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent";let u=n.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s}));u.displayName="CardFooter"},7863:(e,s,r)=>{"use strict";r.d(s,{cn:()=>i});var t=r(1135),n=r(1009);function i(...e){return(0,n.m6)((0,t.W)(e))}},4893:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(2881).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},4752:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c,metadata:()=>l});var t=r(9510),n=r(5384),i=r.n(n);r(7272);var a=r(8570);(0,a.createProxy)(String.raw`/Users/jordy/dev/jobHunt/app/providers.tsx#trpc`);let d=(0,a.createProxy)(String.raw`/Users/jordy/dev/jobHunt/app/providers.tsx#TRPCProvider`),l={title:"Orbit Pipeline",description:"Resilient job execution pipeline with retry logic"};function c({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:i().className,children:t.jsx(d,{children:e})})})}},4581:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`/Users/jordy/dev/jobHunt/app/pipeline/[id]/page.tsx#default`)},7272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[948,855,394,979,213],()=>r(5584));module.exports=t})();